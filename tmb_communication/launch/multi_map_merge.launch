<launch>
    <group ns="robot1/map_merge/">
        <param name="init_pose_x" value="1.0"/>
        <param name="init_pose_y" value="0.0"/>
        <param name="init_pose_z" value="0.0"/>
        <param name="init_pose_yaw" value="0.0"/>
    </group>

    <group ns="robot2/map_merge">
        <param name="init_pose_x" value="-1"/>
        <param name="init_pose_y" value="0"/>
        <param name="init_pose_z" value="0.0"/>
        <param name="init_pose_yaw" value="0.0"/>
    </group>
    <group ns="blind_robot/map_merge">
        <param name="init_pose_x" value="2.0"/>
        <param name="init_pose_y" value="0.0"/>
        <param name="init_pose_z" value="0.0"/>
        <param name="init_pose_yaw" value="0.0"/>
    </group>

    <node pkg="multirobot_map_merge" type="map_merge" name="tmb_merger" respawn="False">
        <param name="merged_map_topic" value="map"/>
        <param name="world_frame" value="map"/>
        <param name="known_init_poses" value="True"/>
        <param name="merging_rate" value="4.0"/>
        <param name="discovery_rate" value="0.1"/>
        <param name="estimation_rate" value="1"/>
        <param name="estimation_confidence" value="1.5"/>
    </node>

    <node pkg="tf" type="static_transform_publisher" name="world_to_robot1_tf_broadcaster"  args="1 0 0 0 0 0 1 /map /robot1/map 100"/>
    <node pkg="tf" type="static_transform_publisher" name="world_to_robot2_tf_broadcaster" args="1 0 0 0 0 0 1 /map /robot2/map 100"/>
    <node pkg="tf" type="static_transform_publisher" name="world_to_blind_robot_tf_broadcaster" args="1 0 0 0 0 1 /map /blind_robot/map 100"/>
</launch>
